<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animated Math Solution</title>
    <style>
        :root {
            --notebook-blue: #0066cc;
            --paper-color: #fffdf0;
            --pen-color: #2b3d4f;
        }
        
        body {
            font-family: 'Comic Sans MS', sans-serif;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        
        .notebook-container {
            width: 100%;
            max-width: 750px;
            background-color: var(--paper-color);
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            padding: 40px 20px;
        }
        
        .notebook-header {
            text-align: center;
            margin-bottom: 20px;
            color: var(--pen-color);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .exam-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-right: 10px;
        }
        
        .problem-statement {
            font-size: 20px;
            margin-top: 10px;
            font-weight: bold;
            color: #0066cc;
        }
        
        .notebook-paper {
            position: relative;
            padding: 10px;
        }
        
        .notebook-line {
            height: 80px;
            border-bottom: 1px solid #b5c7d5;
            position: relative;
            margin-bottom: 5px;
        }
        
        .notebook-line::before {
            content: '';
            position: absolute;
            left: -20px;
            top: 0;
            height: 100%;
            width: 1px;
            background-color: #ff9999;
        }
        
        .math-step {
            position: relative;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.8s, transform 0.8s;
            padding-left: 10px;
            font-size: 22px;
            color: var(--pen-color);
            height: 100%;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .math-step.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .math-step-writing {
            color: var(--pen-color);
            position: relative;
            overflow: visible;
            display: inline-block;
            white-space: nowrap;
            width: 0;
        }
        
        .step-arrow {
            display: inline-block;
            margin: 0 10px;
            color: #4a90e2;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .step-arrow.visible {
            opacity: 1;
        }
        
        .step-explanation {
            color: #6b7d8c;
            font-size: 18px;
            margin-left: 30px;
            transform: scale(0.8);
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        
        .step-explanation.visible {
            opacity: 1;
            transform: scale(1);
        }
        
        .final-answer {
            color: #e7305b;
            font-weight: bold;
        }
        
        .restart-btn {
            background-color: var(--notebook-blue);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            font-family: inherit;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s, transform 0.2s;
            display: block;
            margin: 20px auto 0;
            opacity: 0;
            transform: scale(0.9);
        }
        
        .restart-btn:hover {
            background-color: #004e9e;
            transform: scale(1.05);
        }
        
        .restart-btn.visible {
            opacity: 1;
            transform: scale(1);
        }
        
        .pen-icon {
            position: absolute;
            width: 20px;
            height: 20px;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 10;
        }
        .exam-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-right: 10px;
        }
        
        .exam-logo {
            height: 30px;
            width: auto;
        }
        
        
        
        @media (max-width: 600px) {
            .notebook-container {
                padding: 20px 10px;
            }
            
            .math-step {
                font-size: 20px;
            }
            
            .step-explanation {
                font-size: 16px;
                margin-left: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="notebook-container">
        <div class="notebook-header">
            <div class="exam-title">WAEC 2011</div>
            <img src="https://i0.wp.com/standard.gm/wp-content/uploads/2025/04/WAEC.jpg" alt="WAEC Logo" class="exam-logo">
            <h1>Solving for x</h1>
            <div class="problem-statement">2logx – log(1 – x) = log(2 – x)</div>
        </div>
        <div class="notebook-paper">
            <div class="notebook-line">
                <div class="math-step" id="step1">
                    <div class="math-step-writing">2logx – log(1 – x) = log(2 – x)</div>
                </div>
            </div>
            <div class="notebook-line">
                <div class="math-step" id="step2">
                    <div class="math-step-writing">log(x²) – log(1 – x) = log(2 – x)</div>
                    <div class="step-explanation">Using property: n·log(a) = log(aⁿ)</div>
                </div>
            </div>
            <div class="notebook-line">
                <div class="math-step" id="step3">
                    <div class="math-step-writing">log(x²/(1 – x)) = log(2 – x)</div>
                    <div class="step-explanation">Using property: log(a) - log(b) = log(a/b)</div>
                </div>
            </div>
            <div class="notebook-line">
                <div class="math-step" id="step4">
                    <div class="math-step-writing">x²/(1 – x) = 2 – x</div>
                    <div class="step-explanation">If log(a) = log(b), then a = b</div>
                </div>
            </div>
            <div class="notebook-line">
                <div class="math-step" id="step5">
                    <div class="math-step-writing">x² = (1 – x)(2 – x)</div>
                    <div class="step-explanation">Multiply both sides by (1-x)</div>
                </div>
            </div>
            <div class="notebook-line">
                <div class="math-step" id="step6">
                    <div class="math-step-writing">x² = (1 – x)(2 – x)</div>
                </div>
            </div>
            <div class="notebook-line">
                <div class="math-step" id="step7">
                    <div class="math-step-writing">x² = 2 – x – 2x + x²</div>
                    <div class="step-explanation">Expand the right side</div>
                </div>
            </div>
            <div class="notebook-line">
                <div class="math-step" id="step8">
                    <div class="math-step-writing">0 = 2 – 3x</div>
                    <div class="step-explanation">Simplify by subtracting x² from both sides</div>
                </div>
            </div>
            <div class="notebook-line">
                <div class="math-step" id="step9">
                    <div class="math-step-writing">3x = 2</div>
                    <div class="step-explanation">Add 3x to both sides</div>
                </div>
            </div>
            <div class="notebook-line">
                <div class="math-step" id="step10">
                    <div class="math-step-writing">x = 2/3</div>
                    <div class="step-explanation">Divide both sides by 3</div>
                </div>
            </div>
            <div class="notebook-line">
                <div class="math-step" id="step11">
                    <div class="math-step-writing">Check: For x = 2/3, 1-x = 1/3, 2-x = 4/3</div>
                    <div class="step-explanation">Verify our answer in the original equation</div>
                </div>
            </div>
            <div class="notebook-line">
                <div class="math-step" id="step12">
                    <div class="math-step-writing">x = 2/3</div>
                    <div class="step-explanation final-answer">Our final answer!</div>
                </div>
            </div>
        </div>
        <button class="restart-btn" id="restartBtn">Watch Again</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Add pen icon to follow cursor
            const penIcon = document.createElement('div');
            penIcon.className = 'pen-icon';
            penIcon.innerHTML = '✏️';
            document.body.appendChild(penIcon);
            
            // Animation controller
            const steps = document.querySelectorAll('.math-step');
            const stepWritings = document.querySelectorAll('.math-step-writing');
            const explanations = document.querySelectorAll('.step-explanation');
            const restartBtn = document.getElementById('restartBtn');
            
            function animateWriting(element, finalWidth, duration, delay, callback) {
                setTimeout(() => {
                    let start = null;
                    const textContent = element.textContent;
                    const textWidth = Math.max(getTextWidth(textContent, window.getComputedStyle(element).font), 400);
                    
                    element.parentElement.classList.add('visible');
                    
                    function step(timestamp) {
                        if (!start) start = timestamp;
                        const elapsed = timestamp - start;
                        const progress = Math.min(elapsed / duration, 1);
                        
                        // Calculate cursor position for pen icon
                        const rect = element.getBoundingClientRect();
                        const cursorX = rect.left + (textWidth * progress) + 5;
                        const cursorY = rect.top + rect.height / 2;
                        
                        penIcon.style.opacity = 1;
                        penIcon.style.left = `${cursorX}px`;
                        penIcon.style.top = `${cursorY}px`;
                        
                        element.style.width = `${finalWidth * progress}px`;
                        
                        if (progress < 1) {
                            window.requestAnimationFrame(step);
                        } else {
                            setTimeout(() => {
                                penIcon.style.opacity = 0;
                                if (callback) callback();
                            }, 200);
                        }
                    }
                    
                    window.requestAnimationFrame(step);
                }, delay);
            }
            
            function getTextWidth(text, font) {
                const canvas = getTextWidth.canvas || (getTextWidth.canvas = document.createElement('canvas'));
                const context = canvas.getContext('2d');
                context.font = font;
                const metrics = context.measureText(text);
                return metrics.width;
            }
            
            function showExplanation(index, delay) {
                setTimeout(() => {
                    explanations[index].classList.add('visible');
                }, delay);
            }
            
            function startAnimation() {
                // Reset
                steps.forEach(step => step.classList.remove('visible'));
                stepWritings.forEach(writing => {
                    writing.style.width = '0';
                });
                explanations.forEach(explanation => explanation.classList.remove('visible'));
                restartBtn.classList.remove('visible');
                
                // Get final widths before animation
                const finalWidths = Array.from(stepWritings).map(el => {
                    el.style.width = 'auto';
                    const width = Math.max(el.offsetWidth, 500);
                    el.style.width = '0';
                    return width;
                });
                
                // Start the sequence with delays between steps
                const stepDelay = 2000; // 2 seconds between steps
                
                animateWriting(stepWritings[0], finalWidths[0], 1000, 500, () => {
                    setTimeout(() => {
                        animateWriting(stepWritings[1], finalWidths[1], 1200, 0, () => {
                            showExplanation(0, 200);
                            
                            setTimeout(() => {
                                animateWriting(stepWritings[2], finalWidths[2], 1200, 0, () => {
                                    showExplanation(1, 200);
                                    
                                    setTimeout(() => {
                                        animateWriting(stepWritings[3], finalWidths[3], 1200, 0, () => {
                                            showExplanation(2, 200);
                                            
                                            setTimeout(() => {
                                                animateWriting(stepWritings[4], finalWidths[4], 1200, 0, () => {
                                                    showExplanation(3, 200);
                                                    
                                                    setTimeout(() => {
                                                        animateWriting(stepWritings[5], finalWidths[5], 800, 0);
                                                        
                                                        setTimeout(() => {
                                                            animateWriting(stepWritings[6], finalWidths[6], 1200, 0, () => {
                                                                showExplanation(4, 200);
                                                                
                                                                setTimeout(() => {
                                                                    animateWriting(stepWritings[7], finalWidths[7], 1200, 0, () => {
                                                                        showExplanation(5, 200);
                                                                        
                                                                        setTimeout(() => {
                                                                            animateWriting(stepWritings[8], finalWidths[8], 1000, 0, () => {
                                                                                showExplanation(6, 200);
                                                                                
                                                                                setTimeout(() => {
                                                                                    animateWriting(stepWritings[9], finalWidths[9], 1000, 0, () => {
                                                                                        showExplanation(7, 200);
                                                                                        
                                                                                        setTimeout(() => {
                                                                                            animateWriting(stepWritings[10], finalWidths[10], 1200, 0, () => {
                                                                                                showExplanation(8, 200);
                                                                                                
                                                                                                setTimeout(() => {
                                                                                                    animateWriting(stepWritings[11], finalWidths[11], 800, 0, () => {
                                                                                                        showExplanation(9, 200);
                                                                                                        
                                                                                                        setTimeout(() => {
                                                                                                            restartBtn.classList.add('visible');
                                                                                                        }, 1000);
                                                                                                    });
                                                                                                }, stepDelay);
                                                                                            });
                                                                                        }, stepDelay);
                                                                                    });
                                                                                }, stepDelay);
                                                                            });
                                                                        }, stepDelay);
                                                                    });
                                                                }, stepDelay);
                                                            });
                                                        }, stepDelay);
                                                    }, stepDelay);
                                                });
                                            }, stepDelay);
                                        });
                                    }, stepDelay);
                                });
                            }, stepDelay);
                        });
                    }, stepDelay);
                });
            }
            
            // Start animation when page loads
            startAnimation();
            
            // Restart button handler
            restartBtn.addEventListener('click', startAnimation);
        });
    </script>
</body>
</html>
