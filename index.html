<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ramadan Quiz Challenge</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: #000;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }

        .container {
            width: 100%;
            height: 100vh;
            background: radial-gradient(ellipse at top, #1a0a2e 0%, #0d1b3e 40%, #0a0f1e 100%);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* â”€â”€ Stars â”€â”€ */
        .stars { position: absolute; inset: 0; pointer-events: none; z-index: 0; }
        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            animation: twinkle var(--d) ease-in-out infinite alternate;
        }
        @keyframes twinkle {
            from { opacity: 0.1; transform: scale(0.8); }
            to   { opacity: 1;   transform: scale(1.2); }
        }

        /* â”€â”€ Moon â”€â”€ */
        .moon {
            position: absolute;
            top: 10px; right: 16px;
            width: 56px; height: 56px;
            z-index: 2;
            filter: drop-shadow(0 0 12px rgba(255,215,80,.8));
        }

        /* â”€â”€ Lanterns â”€â”€ */
        .lantern {
            position: absolute;
            top: 54px;
            font-size: 2rem;
            z-index: 2;
            animation: swing 3s ease-in-out infinite alternate;
            transform-origin: top center;
        }
        .lantern-l { left: 14px; }
        .lantern-r { right: 14px; animation-direction: alternate-reverse; }
        @keyframes swing {
            from { transform: rotate(-8deg); }
            to   { transform: rotate(8deg);  }
        }

        /* â”€â”€ Mosque silhouette â”€â”€ */
        .mosque {
            position: absolute;
            bottom: 0; left: 0;
            width: 100%; height: 75px;
            pointer-events: none;
            z-index: 0;
            opacity: .15;
        }

        /* â”€â”€ Question badge â”€â”€ */
        .question-number {
            position: absolute;
            top: 12px; left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg,#7c3800,#c87000,#f5c518,#c87000,#7c3800);
            padding: 7px 20px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1.15rem;
            box-shadow: 0 0 14px rgba(212,160,23,.7), inset 0 0 6px rgba(0,0,0,.3);
            z-index: 10;
            border: 2px solid #ffe066;
            min-width: 150px;
            text-align: center;
            color: #fff;
            text-shadow: 1px 1px 3px #000;
            letter-spacing: .5px;
            white-space: nowrap;
        }

        /* â”€â”€ Mubarak subtitle â”€â”€ */
        .ramadan-header {
            position: absolute;
            top: 50px; left: 50%;
            transform: translateX(-50%);
            font-size: .66rem;
            color: #ffe066;
            letter-spacing: 2px;
            text-transform: uppercase;
            opacity: .7;
            white-space: nowrap;
            z-index: 3;
            text-shadow: 0 0 8px rgba(212,160,23,.8);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ANTI-THEFT WATERMARK STRATEGY
           The handle is split into three layers:
           1. A diagonal repeat watermark behind content (pointer-events:none, low opacity)
           2. The handle baked into the HEADER of every question card (always visible)
           3. A thin gold bar at very bottom â€” blurring it breaks the card border
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        /* Layer 1 â€“ Diagonal repeat watermark (behind everything inside the card) */
        .watermark-bg {
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
            border-radius: 18px;
        }
        .watermark-bg::before {
            content: '@barakah.charity.gm  â€¢  @barakah.charity.gm  â€¢  @barakah.charity.gm  â€¢  @barakah.charity.gm  â€¢  @barakah.charity.gm';
            position: absolute;
            top: -30px; left: -40px;
            width: 200%; height: 200%;
            color: rgba(255,220,80,0.07);
            font-size: .75rem;
            font-weight: 900;
            letter-spacing: 4px;
            word-spacing: 12px;
            white-space: pre-wrap;
            word-break: break-all;
            transform: rotate(-30deg);
            line-height: 2.8rem;
            pointer-events: none;
            user-select: none;
        }

        /* Layer 2 â€“ Handle baked into card header bar (blurring = ruins the whole card top) */
        .card-header-bar {
            width: calc(100% + 30px);
            margin: -15px -15px 14px -15px;
            background: linear-gradient(90deg,
                rgba(212,160,23,0.18) 0%,
                rgba(212,160,23,0.28) 40%,
                rgba(212,160,23,0.18) 100%);
            border-bottom: 1px solid rgba(212,160,23,0.4);
            padding: 6px 14px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 8px;
            position: relative;
            z-index: 2;
            border-radius: 18px 18px 0 0;
        }

        /* Timer lives inside the header bar */
        .timer-wrap {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        .timer-container {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,.12);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid rgba(212,160,23,.3);
        }
        .timer {
            height: 100%;
            background: linear-gradient(90deg,#ffe066,#f5a623);
            width: 100%;
            transition: width 7s linear;
            border-radius: 8px;
        }
        .timer.paused  { transition: none; }
        .timer.ending  { background: linear-gradient(90deg,#ff4444,#ff0000); }

        /* Handle text in header bar */
        .handle-tag {
            font-size: .72rem;
            font-weight: 900;
            color: #ffe066;
            letter-spacing: 1.5px;
            text-shadow: 0 0 8px rgba(212,160,23,.9), 0 0 2px #000;
            white-space: nowrap;
            user-select: none;
            flex-shrink: 0;
        }

        /* Countdown bubble */
        .countdown {
            width: 32px; height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg,#7c3800,#c87000);
            border: 2px solid #ffe066;
            display: flex; align-items: center; justify-content: center;
            font-size: 1rem; font-weight: bold;
            color: #fff; text-shadow: 1px 1px 2px #000;
            flex-shrink: 0;
        }
        .countdown.hidden { display: none; }

        /* â”€â”€ Main question card â”€â”€ */
        .question-container {
            width: 90%;
            margin-top: 72px;
            height: calc(100% - 152px);
            display: flex;
            flex-direction: column;
            align-items: center;
            background: linear-gradient(160deg,rgba(10,20,60,.9) 0%,rgba(30,10,60,.9) 100%);
            border-radius: 18px;
            padding: 15px;
            box-shadow: 0 0 25px rgba(212,160,23,.35), 0 0 60px rgba(100,0,150,.2);
            border: 1.5px solid rgba(212,160,23,.5);
            position: relative;
            transition: transform .5s, opacity .5s;
            overflow: hidden;
            z-index: 5;
        }

        /* Corner stars */
        .question-container::before,
        .question-container::after {
            content: 'âœ¦';
            position: absolute;
            font-size: 1.3rem;
            color: rgba(212,160,23,.5);
            top: 56px; /* below header bar */
        }
        .question-container::before { left: 14px; }
        .question-container::after  { right: 14px; }

        /* â”€â”€ Question text â”€â”€ */
        .question {
            font-size: 1.45rem;
            font-weight: bold;
            margin: 8px 0 18px;
            text-align: center;
            text-shadow: 2px 2px 5px rgba(0,0,0,.9);
            padding: 0 10px;
            color: #fff;
            line-height: 1.38;
            position: relative;
            z-index: 2;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* â”€â”€ Options â”€â”€ */
        .options {
            display: flex;
            flex-direction: column;
            gap: 11px;
            width: 100%;
            position: relative;
            z-index: 2;
        }

        .option {
            background: linear-gradient(135deg,rgba(60,20,100,.7),rgba(10,20,80,.7));
            border: 1.5px solid rgba(212,160,23,.5);
            color: #fff;
            padding: 14px;
            border-radius: 12px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all .25s;
            font-weight: bold;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0,0,0,.6);
        }
        .option:active { transform: scale(.98); background: rgba(212,160,23,.2); }
        .option.correct {
            background: linear-gradient(135deg,#1a7a2e,#27ae60);
            border-color: #2ecc71;
            box-shadow: 0 0 12px rgba(46,204,113,.6);
        }
        .option.incorrect {
            background: linear-gradient(135deg,#7a1a1a,#c0392b);
            border-color: #e74c3c;
            box-shadow: 0 0 12px rgba(231,76,60,.6);
        }

        /* Layer 3 â€“ Footer watermark bar (blurring it breaks card's bottom border) */
        .card-footer-bar {
            width: calc(100% + 30px);
            margin: 14px -15px -15px -15px;
            background: linear-gradient(90deg,
                rgba(212,160,23,0.12) 0%,
                rgba(212,160,23,0.22) 50%,
                rgba(212,160,23,0.12) 100%);
            border-top: 1px solid rgba(212,160,23,.35);
            padding: 5px 14px;
            text-align: center;
            font-size: .65rem;
            font-weight: 800;
            color: rgba(255,220,80,.55);
            letter-spacing: 3px;
            text-transform: uppercase;
            user-select: none;
            position: relative;
            z-index: 2;
            border-radius: 0 0 18px 18px;
        }

        /* â”€â”€ Slide transitions â”€â”€ */
        .question-container.exit  { transform: translateX(-100%); opacity: 0; }
        .question-container.enter { transform: translateX(100%);  opacity: 0; }
    </style>
</head>
<body>
<div class="container">

    <!-- Stars -->
    <div class="stars" id="stars"></div>

    <!-- Moon -->
    <svg class="moon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <radialGradient id="mg" cx="40%" cy="40%" r="60%">
                <stop offset="0%"   stop-color="#fff9c4"/>
                <stop offset="100%" stop-color="#f5a623"/>
            </radialGradient>
        </defs>
        <circle cx="52" cy="50" r="38" fill="url(#mg)"/>
        <circle cx="72" cy="40" r="33" fill="#0d1b3e"/>
    </svg>

    <!-- Lanterns -->
    <div class="lantern lantern-l">ğŸª”</div>
    <div class="lantern lantern-r">ğŸª”</div>

    <!-- Mosque silhouette -->
    <svg class="mosque" viewBox="0 0 800 80" preserveAspectRatio="xMidYMax meet" xmlns="http://www.w3.org/2000/svg">
        <path fill="white" d="M0,80 L0,55 L30,55 L30,35 L50,35 L50,25 Q60,5 70,25 L70,35 L90,35 L90,55 L120,55 L120,40 L140,40 L140,30 L160,30 L160,20 Q175,0 190,20 L190,30 L210,30 L210,40 L230,40 L230,55 L280,55 L280,40 L300,40 L300,30 L320,30 L320,20 Q340,0 360,20 L360,30 L380,30 L380,40 L400,40 L400,55 L450,55 L450,30 L470,30 L470,20 Q490,0 510,20 L510,30 L530,30 L530,55 L570,55 L570,40 L590,40 L590,30 L610,30 L610,20 Q625,2 640,20 L640,30 L660,30 L660,40 L680,40 L680,55 L710,55 L710,35 L730,35 L730,25 Q740,5 750,25 L750,35 L770,35 L770,55 L800,55 L800,80 Z"/>
    </svg>

    <!-- Badge -->
    <div class="question-number" id="question-number">Question: 1/10</div>
    <div class="ramadan-header">ğŸŒ™ Ramadan Mubarak ğŸŒ™</div>

    <!-- â•â•â• Question card â•â•â• -->
    <div class="question-container" id="question-container">

        <!-- Layer 1: diagonal watermark bg -->
        <div class="watermark-bg"></div>

        <!-- Layer 2: header bar with timer + handle baked in -->
        <div class="card-header-bar">
            <span class="handle-tag">@barakah.charity.gm</span>
            <div class="timer-wrap">
                <div class="timer-container">
                    <div class="timer paused" id="timer"></div>
                </div>
            </div>
            <div class="countdown hidden" id="countdown">7</div>
        </div>

        <!-- Question -->
        <div class="question" id="question">Loadingâ€¦</div>

        <!-- Options -->
        <div class="options" id="options"></div>

        <!-- Layer 3: footer watermark bar -->
        <div class="card-footer-bar">ğŸŒ™ &nbsp; @barakah.charity.gm &nbsp; â€¢ &nbsp; Ramadan Mubarak &nbsp; ğŸŒ™</div>

    </div>
</div>

<script>
/* â”€â”€ Starfield â”€â”€ */
(function () {
    const c = document.getElementById('stars');
    for (let i = 0; i < 80; i++) {
        const s = document.createElement('div');
        s.className = 'star';
        const z = Math.random() * 2.5 + 0.5;
        s.style.cssText = `width:${z}px;height:${z}px;top:${Math.random()*60}%;left:${Math.random()*100}%;--d:${(Math.random()*3+1.5).toFixed(1)}s;`;
        c.appendChild(s);
    }
})();

/* â”€â”€ Questions â”€â”€ */
const questions = [
    {
        question: "In Islam, during which month does Ramadan occur?",
        options: ["Shawwal", "Rajab", "The 9th month", "Dhul Hijjah"],
        correctIndex: 2, readTime: 5000
    },
    {
        question: "What is the pre-dawn meal eaten before fasting begins called?",
        options: ["Iftar", "Suhoor", "Zakat", "Sadaqah"],
        correctIndex: 1, readTime: 5000
    },
    {
        question: "What is the meal used to break the fast at sunset called?",
        options: ["Suhoor", "Tarawih", "Iftar", "Eid"],
        correctIndex: 2, readTime: 5000
    },
    {
        question: "With which food did Prophet Muhammad (SAW) traditionally break his fast?",
        options: ["Figs", "Pomegranate", "Dates", "Olives"],
        correctIndex: 2, readTime: 5000
    },
    {
        question: "What is the special nightly prayer performed during Ramadan called?",
        options: ["Tahajjud", "Tarawih", "Witr", "Jumu'ah"],
        correctIndex: 1, readTime: 6000
    },
    {
        question: "Laylat al-Qadr (Night of Power) falls in which part of Ramadan?",
        options: ["First 10 nights", "Middle 10 nights", "Last 10 nights", "First night only"],
        correctIndex: 2, readTime: 6000
    },
    {
        question: "Which holy book was revealed during the month of Ramadan?",
        options: ["Torah", "Bible", "Zabur", "The Quran"],
        correctIndex: 3, readTime: 5000
    },
    {
        question: "What is the obligatory charity paid at the end of Ramadan called?",
        options: ["Zakat al-Fitr", "Sadaqah", "Khums", "Jizya"],
        correctIndex: 0, readTime: 6000
    },
    {
        question: "What is the celebration marking the end of Ramadan called?",
        options: ["Eid al-Adha", "Mawlid", "Eid al-Fitr", "Isra Mi'raj"],
        correctIndex: 2, readTime: 5000
    },
    {
        question: "How many times a day are Muslims required to pray during Ramadan?",
        options: ["3 times", "4 times", "5 times", "7 times"],
        correctIndex: 2, readTime: 5000
    }
];

/* â”€â”€ State â”€â”€ */
let idx = 0, timerTO, cdInt, clickable = true;

const qEl    = document.getElementById('question');
const opEl   = document.getElementById('options');
const tEl    = document.getElementById('timer');
const cdEl   = document.getElementById('countdown');
const numEl  = document.getElementById('question-number');
const cardEl = document.getElementById('question-container');

/* â”€â”€ Load â”€â”€ */
function load() {
    if (idx >= questions.length) idx = 0;
    numEl.textContent = `Question: ${idx + 1}/10`;
    cardEl.classList.add('enter');

    setTimeout(() => {
        cardEl.classList.remove('enter', 'exit');
        const q = questions[idx];
        qEl.textContent = q.question;

        opEl.innerHTML = '';
        q.options.forEach((o, i) => {
            const b = document.createElement('button');
            b.className = 'option';
            b.textContent = o;
            b.addEventListener('click', () => { if (clickable) check(i); });
            opEl.appendChild(b);
        });

        startTimer(q.readTime);
        clickable = true;
    }, 50);
}

/* â”€â”€ Timer â”€â”€ */
function startTimer(pause) {
    tEl.style.transition = 'none';
    tEl.style.width = '100%';
    tEl.classList.add('paused');
    tEl.classList.remove('ending');
    cdEl.classList.add('hidden');
    void tEl.offsetWidth;
    clearTimeout(timerTO);
    clearInterval(cdInt);

    setTimeout(() => {
        tEl.classList.remove('paused');
        tEl.style.transition = 'width 7s linear';
        tEl.style.width = '0%';

        let s = 7;
        cdEl.textContent = s;
        cdEl.classList.remove('hidden');

        cdInt = setInterval(() => {
            s--;
            cdEl.textContent = s;
            if (s <= 3) tEl.classList.add('ending');
            if (s <= 0) clearInterval(cdInt);
        }, 1000);

        timerTO = setTimeout(() => {
            if (!clickable) return;
            clickable = false;
            clearInterval(cdInt);
            document.querySelectorAll('.option')[questions[idx].correctIndex].classList.add('correct');
            setTimeout(next, 1500);
        }, 7000);
    }, pause);
}

/* â”€â”€ Answer â”€â”€ */
function check(i) {
    clickable = false;
    clearTimeout(timerTO);
    clearInterval(cdInt);
    const opts = document.querySelectorAll('.option');
    const correct = questions[idx].correctIndex;
    opts[i].classList.add(i === correct ? 'correct' : 'incorrect');
    if (i !== correct) opts[correct].classList.add('correct');
    setTimeout(next, 1500);
}

/* â”€â”€ Next â”€â”€ */
function next() {
    cardEl.classList.add('exit');
    setTimeout(() => { idx++; load(); }, 500);
}

document.addEventListener('DOMContentLoaded', load);
</script>
</body>
</html>
